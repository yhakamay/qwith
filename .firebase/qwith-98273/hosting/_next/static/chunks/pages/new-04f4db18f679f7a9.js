(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{3234:function(e,t,n){"use strict";n.d(t,{NI:function(){return g},NJ:function(){return v},Yp:function(){return x}});var r=n(7294),a=n(8387),i=n(6734),l=n(7277),o=n(4520),s=n(2494),u=(...e)=>e.filter(Boolean).join(" "),d=e=>e?"":void 0,c=e=>!!e||void 0;function m(...e){return function(t){e.some(e=>(null==e||e(t),null==t?void 0:t.defaultPrevented))}}var[p,f]=(0,a.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[h,v]=(0,a.k)({strict:!1,name:"FormControlContext"}),g=(0,l.Gp)(function(e,t){let n=(0,l.jC)("Form",e),a=(0,o.Lr)(e),{getRootProps:s,htmlProps:c,...m}=function(e){let{id:t,isRequired:n,isInvalid:a,isDisabled:l,isReadOnly:o,...s}=e,u=(0,r.useId)(),c=t||`field-${u}`,m=`${c}-label`,p=`${c}-feedback`,f=`${c}-helptext`,[h,v]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[_,I]=(0,r.useState)(!1),E=(0,r.useCallback)((e={},t=null)=>({id:f,...e,ref:(0,i.lq)(t,e=>{e&&x(!0)})}),[f]),y=(0,r.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":d(_),"data-disabled":d(l),"data-invalid":d(a),"data-readonly":d(o),id:e.id??m,htmlFor:e.htmlFor??c}),[c,l,_,a,o,m]),b=(0,r.useCallback)((e={},t=null)=>({id:p,...e,ref:(0,i.lq)(t,e=>{e&&v(!0)}),"aria-live":"polite"}),[p]),N=(0,r.useCallback)((e={},t=null)=>({...e,...s,ref:t,role:"group"}),[s]),k=(0,r.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!a,isReadOnly:!!o,isDisabled:!!l,isFocused:!!_,onFocus:()=>I(!0),onBlur:()=>I(!1),hasFeedbackText:h,setHasFeedbackText:v,hasHelpText:g,setHasHelpText:x,id:c,labelId:m,feedbackId:p,helpTextId:f,htmlProps:s,getHelpTextProps:E,getErrorMessageProps:b,getRootProps:N,getLabelProps:y,getRequiredIndicatorProps:k}}(a),f=u("chakra-form-control",e.className);return r.createElement(h,{value:m},r.createElement(p,{value:n},r.createElement(l.m$.div,{...s({},t),className:f,__css:n.container})))});function x(e){let{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:a,...i}=function(e){let t=v(),{id:n,disabled:r,readOnly:a,required:i,isRequired:l,isInvalid:o,isReadOnly:s,isDisabled:u,onFocus:d,onBlur:c,...p}=e,f=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==t?void 0:t.hasFeedbackText)&&(null==t?void 0:t.isInvalid)&&f.push(t.feedbackId),(null==t?void 0:t.hasHelpText)&&f.push(t.helpTextId),{...p,"aria-describedby":f.join(" ")||void 0,id:n??(null==t?void 0:t.id),isDisabled:r??u??(null==t?void 0:t.isDisabled),isReadOnly:a??s??(null==t?void 0:t.isReadOnly),isRequired:i??l??(null==t?void 0:t.isRequired),isInvalid:o??(null==t?void 0:t.isInvalid),onFocus:m(null==t?void 0:t.onFocus,d),onBlur:m(null==t?void 0:t.onBlur,c)}}(e);return{...i,disabled:t,readOnly:r,required:a,"aria-invalid":c(n),"aria-required":c(a),"aria-readonly":c(r)}}g.displayName="FormControl",(0,l.Gp)(function(e,t){let n=v(),a=f(),i=u("chakra-form__helper-text",e.className);return r.createElement(l.m$.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:a.helperText,className:i})}).displayName="FormHelperText";var[_,I]=(0,a.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "});(0,l.Gp)((e,t)=>{let n=(0,l.jC)("FormError",e),a=(0,o.Lr)(e),i=v();return(null==i?void 0:i.isInvalid)?r.createElement(_,{value:n},r.createElement(l.m$.div,{...null==i?void 0:i.getErrorMessageProps(a,t),className:u("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...n.text}})):null}).displayName="FormErrorMessage",(0,l.Gp)((e,t)=>{let n=I(),a=v();if(!(null==a?void 0:a.isInvalid))return null;let i=u("chakra-form__error-icon",e.className);return r.createElement(s.JO,{ref:t,"aria-hidden":!0,...e,__css:n.icon,className:i},r.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}).displayName="FormErrorIcon",(0,l.Gp)(function(e,t){let n=(0,l.mq)("FormLabel",e),a=(0,o.Lr)(e),{className:i,children:s,requiredIndicator:d=r.createElement(E,null),optionalIndicator:c=null,...m}=a,p=v(),f=(null==p?void 0:p.getLabelProps(m,t))??{ref:t,...m};return r.createElement(l.m$.label,{...f,className:u("chakra-form__label",a.className),__css:{display:"block",textAlign:"start",...n}},s,(null==p?void 0:p.isRequired)?d:c)}).displayName="FormLabel";var E=(0,l.Gp)(function(e,t){let n=v(),a=f();if(!(null==n?void 0:n.isRequired))return null;let i=u("chakra-form__required-indicator",e.className);return r.createElement(l.m$.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,t),__css:a.requiredIndicator,className:i})});E.displayName="RequiredIndicator"},979:function(e,t,n){"use strict";n.d(t,{BZ:function(){return f},II:function(){return c},xH:function(){return b}});var r=n(7294),a=n(3234),i=n(7277),l=n(4520),o=n(5336),s=n(8387),u=n(4031),d=n(6076),c=(0,i.Gp)(function(e,t){let{htmlSize:n,...s}=e,u=(0,i.jC)("Input",s),d=(0,l.Lr)(s),c=(0,a.Yp)(d),m=(0,o.cx)("chakra-input",e.className);return r.createElement(i.m$.input,{size:n,...c,__css:u.field,ref:t,className:m})});c.displayName="Input",c.id="Input";var[m,p]=(0,s.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),f=(0,i.Gp)(function(e,t){let n=(0,i.jC)("Input",e),{children:a,className:s,...c}=(0,l.Lr)(e),p=(0,o.cx)("chakra-input__group",s),f={},h=(0,u.W)(a),v=n.field;h.forEach(e=>{n&&(v&&"InputLeftElement"===e.type.id&&(f.paddingStart=v.height??v.h),v&&"InputRightElement"===e.type.id&&(f.paddingEnd=v.height??v.h),"InputRightAddon"===e.type.id&&(f.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(f.borderStartRadius=0))});let g=h.map(t=>{var n,a;let i=(0,d.oA)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?(0,r.cloneElement)(t,i):(0,r.cloneElement)(t,Object.assign(i,f,t.props))});return r.createElement(i.m$.div,{className:p,ref:t,__css:{width:"100%",display:"flex",position:"relative"},...c},r.createElement(m,{value:n},g))});f.displayName="InputGroup";var h={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},v=(0,i.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),g=(0,i.Gp)(function(e,t){let{placement:n="left",...a}=e,i=h[n]??{},l=p();return r.createElement(v,{ref:t,...a,__css:{...l.addon,...i}})});g.displayName="InputAddon";var x=(0,i.Gp)(function(e,t){return r.createElement(g,{ref:t,placement:"left",...e,className:(0,o.cx)("chakra-input__left-addon",e.className)})});x.displayName="InputLeftAddon",x.id="InputLeftAddon";var _=(0,i.Gp)(function(e,t){return r.createElement(g,{ref:t,placement:"right",...e,className:(0,o.cx)("chakra-input__right-addon",e.className)})});_.displayName="InputRightAddon",_.id="InputRightAddon";var I=(0,i.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),E=(0,i.Gp)(function(e,t){let{placement:n="left",...a}=e,i=p(),l=i.field,o={["left"===n?"insetStart":"insetEnd"]:"0",width:(null==l?void 0:l.height)??(null==l?void 0:l.h),height:(null==l?void 0:l.height)??(null==l?void 0:l.h),fontSize:null==l?void 0:l.fontSize,...i.element};return r.createElement(I,{ref:t,__css:o,...a})});E.id="InputElement",E.displayName="InputElement";var y=(0,i.Gp)(function(e,t){let{className:n,...a}=e,i=(0,o.cx)("chakra-input__left-element",n);return r.createElement(E,{ref:t,placement:"left",className:i,...a})});y.id="InputLeftElement",y.displayName="InputLeftElement";var b=(0,i.Gp)(function(e,t){let{className:n,...a}=e,i=(0,o.cx)("chakra-input__right-element",n);return r.createElement(E,{ref:t,placement:"right",className:i,...a})});b.id="InputRightElement",b.displayName="InputRightElement"},4995:function(e,t,n){"use strict";n.d(t,{g:function(){return u}});var r=n(7294),a=n(3234),i=n(7277),l=n(4520),o=(...e)=>e.filter(Boolean).join(" "),s=["h","minH","height","minHeight"],u=(0,i.Gp)((e,t)=>{let n=(0,i.mq)("Textarea",e),{className:u,rows:d,...c}=(0,l.Lr)(e),m=(0,a.Yp)(c),p=d?function(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}(n,s):n;return r.createElement(i.m$.textarea,{ref:t,rows:d,...m,className:o("chakra-textarea",u),__css:p})});u.displayName="Textarea"},2610:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return n(3772)}])},9006:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),a=n(639),i=n(5610);function l(){return(0,r.jsx)(a.M5,{children:(0,r.jsx)(i.$,{})})}},3277:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(5893),a=n(3038);function i(e){let{children:t}=e;return(0,r.jsxs)(a.bZ,{status:"error",minH:"8rem",children:[(0,r.jsx)(a.zM,{}),(0,r.jsx)(a.Cd,{children:"\uD83E\uDD2F"}),(0,r.jsx)(a.X,{children:t||"Something went wrong."})]})}},3772:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(5893),a=n(639),i=n(7741),l=n(979),o=n(4995),s=n(8006),u=n(5321),d=n(1163),c=n(7294),m=n(3349),p=n(9006),f=n(3277),h=n(3484);let v=()=>{let e=new s.hJ;(0,s.rh)(h.I,e).then(e=>{let t=s.hJ.credentialFromResult(e);null==t||t.accessToken,e.user}).catch(e=>{e.code,e.message})},g=()=>{h.I.signOut()};function x(){let[e,t,n]=(0,m.F_)(h.I),[s,x]=(0,c.useState)(!1),[_,I]=(0,c.useState)(""),[E,y]=(0,c.useState)(""),b=(0,d.useRouter)();if(t)return(0,r.jsx)(p.Z,{});if(n)return(0,r.jsx)(f.D,{});if(!e)return(0,r.jsxs)(a.gC,{children:[(0,r.jsx)(a.X6,{children:"Sign in to create a quiz"}),(0,r.jsx)(i.zx,{onClick:v,children:"Sign In with Google"})]});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.gC,{w:"100%",children:[(0,r.jsx)(a.X6,{children:"Create Room"}),(0,r.jsx)(i.zx,{onClick:g,variant:"outline",children:"Sign Out"}),(0,r.jsx)(l.II,{onChange:e=>I(e.target.value),disabled:s,placeholder:"Title"}),(0,r.jsx)(o.g,{onChange:e=>y(e.target.value),disabled:s,placeholder:"Description",resize:"none",h:"sm"}),(0,r.jsx)(i.zx,{onClick:N,isLoading:s,isDisabled:""===_||""===E,width:"full",children:"Create Room"})]})});async function N(){x(!0);let t=(0,u.hJ)(h.db,"rooms"),n=await k(),r={title:_,description:E,createdAt:new Date,updatedAt:new Date,expiresAt:new Date(Date.now()+2592e6),createdBy:e.uid,pin:n,status:"waiting",currentQuizId:null};try{var a;let i=await (0,u.ET)(t,r);b.push("/".concat(null===(a=h.I.currentUser)||void 0===a?void 0:a.uid,"/rooms/").concat(i.id)),I(""),y("")}catch(l){console.log(l)}finally{x(!1)}}async function k(){let e=Math.floor(1e4*Math.random()).toString().padStart(4,"0"),t=(0,u.hJ)(h.db,"rooms"),n=(0,u.IO)(t,(0,u.ar)("pin","==",e),(0,u.ar)("status","==","waiting")),r=await (0,u.PL)(n);if(!(r.size>0))return e;k()}}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2610)}),_N_E=e.O()}]);