[{"/Users/yhakamay/Development/qwith/pages/[uid]/rooms/[roomId].tsx":"1","/Users/yhakamay/Development/qwith/pages/[uid]/rooms/index.tsx":"2","/Users/yhakamay/Development/qwith/pages/_app.tsx":"3","/Users/yhakamay/Development/qwith/pages/index.tsx":"4","/Users/yhakamay/Development/qwith/pages/new/index.tsx":"5","/Users/yhakamay/Development/qwith/pages/rooms/[roomId].tsx":"6","/Users/yhakamay/Development/qwith/components/atoms/ColorModeIconButton.tsx":"7","/Users/yhakamay/Development/qwith/components/atoms/Loading.tsx":"8","/Users/yhakamay/Development/qwith/components/atoms/Logo.tsx":"9","/Users/yhakamay/Development/qwith/components/atoms/QuizCard.tsx":"10","/Users/yhakamay/Development/qwith/components/atoms/SignInButton.tsx":"11","/Users/yhakamay/Development/qwith/components/atoms/SignOutButton.tsx":"12","/Users/yhakamay/Development/qwith/components/atoms/SomethingWentWrong.tsx":"13","/Users/yhakamay/Development/qwith/components/atoms/TeamCard.tsx":"14","/Users/yhakamay/Development/qwith/components/molecules/AuthButtons.tsx":"15","/Users/yhakamay/Development/qwith/components/molecules/CurrentQuiz.tsx":"16","/Users/yhakamay/Development/qwith/components/molecules/HeaderDrawer.tsx":"17","/Users/yhakamay/Development/qwith/components/molecules/NewQuizForm.tsx":"18","/Users/yhakamay/Development/qwith/components/molecules/QuizCardListView.tsx":"19","/Users/yhakamay/Development/qwith/components/molecules/QuizzesList.tsx":"20","/Users/yhakamay/Development/qwith/components/molecules/SingleQuiz.tsx":"21","/Users/yhakamay/Development/qwith/components/molecules/TeamCardListView.tsx":"22","/Users/yhakamay/Development/qwith/components/organisms/Footer.tsx":"23","/Users/yhakamay/Development/qwith/components/organisms/Header.tsx":"24","/Users/yhakamay/Development/qwith/components/organisms/NewQuiz.tsx":"25","/Users/yhakamay/Development/qwith/components/organisms/QuizEntry.tsx":"26","/Users/yhakamay/Development/qwith/components/organisms/QuizPlay.tsx":"27","/Users/yhakamay/Development/qwith/components/organisms/QuizResult.tsx":"28","/Users/yhakamay/Development/qwith/components/organisms/QuizWaiting.tsx":"29","/Users/yhakamay/Development/qwith/components/templates/StandardTemplate.tsx":"30"},{"size":1424,"mtime":1670165303786,"results":"31","hashOfConfig":"32"},{"size":337,"mtime":1669541114682,"results":"33","hashOfConfig":"32"},{"size":414,"mtime":1669552752806,"results":"34","hashOfConfig":"32"},{"size":1849,"mtime":1669560823641,"results":"35","hashOfConfig":"32"},{"size":3507,"mtime":1670158018589,"results":"36","hashOfConfig":"32"},{"size":1701,"mtime":1670145600994,"results":"37","hashOfConfig":"32"},{"size":420,"mtime":1669738135993,"results":"38","hashOfConfig":"32"},{"size":152,"mtime":1669735691203,"results":"39","hashOfConfig":"32"},{"size":308,"mtime":1669555451461,"results":"40","hashOfConfig":"32"},{"size":1894,"mtime":1670159228185,"results":"41","hashOfConfig":"32"},{"size":785,"mtime":1669739361075,"results":"42","hashOfConfig":"32"},{"size":463,"mtime":1669739659115,"results":"43","hashOfConfig":"32"},{"size":493,"mtime":1669736357932,"results":"44","hashOfConfig":"32"},{"size":925,"mtime":1670144679453,"results":"45","hashOfConfig":"32"},{"size":1499,"mtime":1669740496027,"results":"46","hashOfConfig":"32"},{"size":975,"mtime":1670164020203,"results":"47","hashOfConfig":"32"},{"size":738,"mtime":1669555642098,"results":"48","hashOfConfig":"32"},{"size":2741,"mtime":1669736088517,"results":"49","hashOfConfig":"32"},{"size":446,"mtime":1670145035186,"results":"50","hashOfConfig":"32"},{"size":1254,"mtime":1670159340580,"results":"51","hashOfConfig":"32"},{"size":1577,"mtime":1670164015470,"results":"52","hashOfConfig":"32"},{"size":489,"mtime":1670144931620,"results":"53","hashOfConfig":"32"},{"size":1229,"mtime":1670036549864,"results":"54","hashOfConfig":"32"},{"size":497,"mtime":1669738936356,"results":"55","hashOfConfig":"32"},{"size":3449,"mtime":1670165856271,"results":"56","hashOfConfig":"32"},{"size":1847,"mtime":1669563872243,"results":"57","hashOfConfig":"32"},{"size":1257,"mtime":1670163649202,"results":"58","hashOfConfig":"32"},{"size":2174,"mtime":1670145378155,"results":"59","hashOfConfig":"32"},{"size":1906,"mtime":1669475578118,"results":"60","hashOfConfig":"32"},{"size":502,"mtime":1669740935132,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"u9il7g",{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138"},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","suppressedMessages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","suppressedMessages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","suppressedMessages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","suppressedMessages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yhakamay/Development/qwith/pages/[uid]/rooms/[roomId].tsx",[],[],"/Users/yhakamay/Development/qwith/pages/[uid]/rooms/index.tsx",[],[],"/Users/yhakamay/Development/qwith/pages/_app.tsx",[],[],"/Users/yhakamay/Development/qwith/pages/index.tsx",[],[],"/Users/yhakamay/Development/qwith/pages/new/index.tsx",["154","155","156","157"],[],"import { Button, Heading, Input, Textarea, VStack } from \"@chakra-ui/react\";\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { addDoc, collection, getDocs, query, where } from \"firebase/firestore\";\nimport { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport Loading from \"../../components/atoms/Loading\";\nimport { SomethingWentWrong } from \"../../components/atoms/SomethingWentWrong\";\nimport { auth, db } from \"../../firebaseConfig\";\nimport { Room } from \"../../types/room\";\n\nconst signIn = () => {\n  const provider = new GoogleAuthProvider();\n\n  signInWithPopup(auth, provider)\n    .then((result) => {\n      const credential = GoogleAuthProvider.credentialFromResult(result);\n      const token = credential?.accessToken;\n      const user = result.user;\n    })\n    .catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n    });\n};\n\nconst signOut = () => {\n  auth.signOut();\n};\n\nexport default function CreateRoomPage() {\n  const [user, loadingAuth, error] = useAuthState(auth);\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const router = useRouter();\n\n  if (loadingAuth) {\n    return <Loading />;\n  }\n\n  if (error) {\n    return <SomethingWentWrong />;\n  }\n\n  if (!user) {\n    return (\n      <VStack>\n        <Heading>Sign in to create a quiz</Heading>\n        <Button onClick={signIn}>Sign In with Google</Button>\n      </VStack>\n    );\n  }\n\n  return (\n    <>\n      <VStack w=\"100%\">\n        <Heading>Create Room</Heading>\n        <Button onClick={signOut} variant=\"outline\">\n          Sign Out\n        </Button>\n        <Input\n          onChange={(e) => setTitle(e.target.value)}\n          disabled={loading}\n          placeholder=\"Title\"\n        ></Input>\n        <Textarea\n          onChange={(e) => setDescription(e.target.value)}\n          disabled={loading}\n          placeholder=\"Description\"\n          resize=\"none\"\n          h=\"sm\"\n        ></Textarea>\n        <Button\n          onClick={createRoom}\n          isLoading={loading}\n          isDisabled={title === \"\" || description === \"\"}\n          width=\"full\"\n        >\n          Create Room\n        </Button>\n      </VStack>\n    </>\n  );\n\n  async function createRoom() {\n    setLoading(true);\n\n    const roomsRef = collection(db, \"rooms\");\n    const pin = await decidePin();\n    const room: Room = {\n      title,\n      description,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      expiresAt: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30),\n      createdBy: user!.uid,\n      pin: pin!,\n      status: \"waiting\",\n      currentQuizId: null,\n    };\n\n    try {\n      const docRef = await addDoc(roomsRef, room);\n      router.push(`/${auth.currentUser?.uid}/rooms/${docRef.id}`);\n      setTitle(\"\");\n      setDescription(\"\");\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function decidePin() {\n    const pin = Math.floor(Math.random() * 10000)\n      .toString()\n      .padStart(4, \"0\");\n    const roomsRef = collection(db, \"rooms\");\n    const q = query(\n      roomsRef,\n      where(\"pin\", \"==\", pin),\n      where(\"status\", \"==\", \"waiting\")\n    );\n    const matchedRooms = await getDocs(q);\n\n    if (matchedRooms.size > 0) {\n      // Already exists, try again\n      decidePin();\n    } else {\n      return pin;\n    }\n  }\n}\n","/Users/yhakamay/Development/qwith/pages/rooms/[roomId].tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/ColorModeIconButton.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/Loading.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/Logo.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/QuizCard.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/SignInButton.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/SignOutButton.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/SomethingWentWrong.tsx",[],[],"/Users/yhakamay/Development/qwith/components/atoms/TeamCard.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/AuthButtons.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/CurrentQuiz.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/HeaderDrawer.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/NewQuizForm.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/QuizCardListView.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/QuizzesList.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/SingleQuiz.tsx",[],[],"/Users/yhakamay/Development/qwith/components/molecules/TeamCardListView.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/Footer.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/Header.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/NewQuiz.tsx",["158","159","160"],[],"import { Box, Button, Divider, Heading, HStack, Text } from \"@chakra-ui/react\";\nimport { collection, CollectionReference, doc } from \"firebase/firestore\";\nimport { useDocumentData } from \"react-firebase-hooks/firestore\";\nimport { useHttpsCallable } from \"react-firebase-hooks/functions\";\nimport { db, functions } from \"../../firebaseConfig\";\nimport { Quiz, quizConverter } from \"../../types/quiz\";\nimport { Room, roomConverter } from \"../../types/room\";\nimport Loading from \"../atoms/Loading\";\nimport { SomethingWentWrong } from \"../atoms/SomethingWentWrong\";\nimport NewQuizForm from \"../molecules/NewQuizForm\";\nimport QuizzesList from \"../molecules/QuizzesList\";\n\ntype NewQuizProps = {\n  roomId: string;\n  room: Room;\n};\n\nexport default function NewQuiz(props: NewQuizProps) {\n  const { roomId, room } = props;\n  const roomRef = doc(db, \"rooms\", roomId).withConverter(roomConverter);\n  const quizzesRef = collection(roomRef, \"quizzes\").withConverter(\n    quizConverter\n  );\n  const [startQuiz, loadingStartQuiz, errorStartQuiz] = useHttpsCallable(\n    functions,\n    \"startQuiz\"\n  );\n  const [endQuiz, loadingEndQuiz, errorEndQuiz] = useHttpsCallable(\n    functions,\n    \"endQuiz\"\n  );\n  const [nextQuiz, loadingNextQuiz, errorNextQuiz] = useHttpsCallable(\n    functions,\n    \"nextQuiz\"\n  );\n  const [previousQuiz, loadingPreviousQuiz, errorPreviousQuiz] =\n    useHttpsCallable(functions, \"previousQuiz\");\n\n  if (room.status === \"waiting\") {\n    return (\n      <>\n        <Heading>{room.title}</Heading>\n        <Text>{room.description}</Text>\n        <Button\n          colorScheme=\"green\"\n          onClick={async () => {\n            await startQuiz({ roomId });\n          }}\n          isLoading={loadingStartQuiz}\n          isDisabled={errorStartQuiz !== undefined}\n        >\n          Start Game\n        </Button>\n        <Box h=\"24px\" />\n        <Divider />\n        <Box h=\"24px\" />\n        <NewQuizForm roomId={roomId} />\n        <Box h=\"24px\" />\n        <QuizzesList roomId={roomId as string} />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Heading>{room.title}</Heading>\n      <Text>{room.description}</Text>\n      <CurrentQuizPreview\n        quizzesRef={quizzesRef}\n        currentQuizId={room.currentQuizId!}\n      />\n      <HStack>\n        <Button\n          variant=\"outline\"\n          onClick={async () => {\n            await previousQuiz({ roomId });\n          }}\n          isLoading={loadingPreviousQuiz}\n          isDisabled={errorPreviousQuiz !== undefined}\n        >\n          Previous Quiz\n        </Button>\n        <Button\n          colorScheme=\"green\"\n          onClick={async () => {\n            await nextQuiz({ roomId });\n          }}\n          isLoading={loadingNextQuiz}\n          isDisabled={errorNextQuiz !== undefined}\n        >\n          Next Quiz\n        </Button>\n      </HStack>\n    </>\n  );\n}\n\ntype CurrentQuizPreviewProps = {\n  quizzesRef: CollectionReference<Quiz>;\n  currentQuizId: string;\n};\n\nfunction CurrentQuizPreview(props: CurrentQuizPreviewProps) {\n  const { quizzesRef, currentQuizId } = props;\n  const [currentQuiz, loading, error] = useDocumentData(\n    doc(quizzesRef, currentQuizId).withConverter(quizConverter)\n  );\n\n  if (error !== undefined) {\n    return <SomethingWentWrong />;\n  }\n\n  if (loading || currentQuiz === undefined) {\n    return <Loading />;\n  }\n\n  return (\n    <Box>\n      <Heading size=\"md\">{currentQuiz.question}</Heading>\n      <Text>{currentQuiz.answer}</Text>\n    </Box>\n  );\n}\n","/Users/yhakamay/Development/qwith/components/organisms/QuizEntry.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/QuizPlay.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/QuizResult.tsx",[],[],"/Users/yhakamay/Development/qwith/components/organisms/QuizWaiting.tsx",[],[],"/Users/yhakamay/Development/qwith/components/templates/StandardTemplate.tsx",[],[],{"ruleId":"161","severity":1,"message":"162","line":18,"column":13,"nodeType":"163","messageId":"164","endLine":18,"endColumn":18},{"ruleId":"161","severity":1,"message":"165","line":19,"column":13,"nodeType":"163","messageId":"164","endLine":19,"endColumn":17},{"ruleId":"161","severity":1,"message":"166","line":22,"column":13,"nodeType":"163","messageId":"164","endLine":22,"endColumn":22},{"ruleId":"161","severity":1,"message":"167","line":23,"column":13,"nodeType":"163","messageId":"164","endLine":23,"endColumn":25},{"ruleId":"161","severity":1,"message":"168","line":28,"column":10,"nodeType":"163","messageId":"164","endLine":28,"endColumn":17},{"ruleId":"161","severity":1,"message":"169","line":28,"column":19,"nodeType":"163","messageId":"164","endLine":28,"endColumn":33},{"ruleId":"161","severity":1,"message":"170","line":28,"column":35,"nodeType":"163","messageId":"164","endLine":28,"endColumn":47},"unused-imports/no-unused-vars","'token' is assigned a value but never used. Allowed unused vars must match /^_/u.","Identifier","unusedVar","'user' is assigned a value but never used. Allowed unused vars must match /^_/u.","'errorCode' is assigned a value but never used. Allowed unused vars must match /^_/u.","'errorMessage' is assigned a value but never used. Allowed unused vars must match /^_/u.","'endQuiz' is assigned a value but never used. Allowed unused vars must match /^_/u.","'loadingEndQuiz' is assigned a value but never used. Allowed unused vars must match /^_/u.","'errorEndQuiz' is assigned a value but never used. Allowed unused vars must match /^_/u."]